\chapter{Verbesserung des einfachen String-Vergleichs}
\label{sec:equals_lane_refill}

\begin{figure}
	\centering
	\begin{tikzpicture}
	\node (x11) [draw,thick,minimum width=3,minimum height=3] {};
	\node (x12) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x11] {};
	\node (x13) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x12] {};
	\node (x14) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x13] {};
	\node (x21) [draw,thick,minimum width=3,minimum height=3, below = 0.5cm of x11] {};
	\node (x22) [densely dashed, draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x21] {};
	\node (x23) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x22] {};
	\node (x24) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x23] {};
	\node (x31) [densely dashed, draw,thick,minimum width=3,minimum height=3, below = 0.5cm of x21] {};
	\node (x32) [densely dashed, draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x31] {};
	\node (x33) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x32] {};
	\node (x34) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x33] {};
	
	\node (x41) [draw,thick,minimum width=1,minimum height=1, below = 0.8cm of x31] {};
	\node (x42) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x41] {};
	\node (x43) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x42] {};
	\node (x44) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x43] {};
	
	%buffer tuples
	\node (xb1) [draw,thick,minimum width=3,minimum height=3, right = 0.8cm of x44] {};
	\node (xb2) [draw,thick,minimum width=3,minimum height=3, below = 0.5cm of xb1] {};
	\node (xb3) [rotate=-90, below right = 0cm and 0.05cm of xb2] {\footnotesize $\cdots$};
	
	%buffer
	\node (rect) [draw, thick, minimum width = 0.7cm, minimum height = 2cm, below right = -0.7cm of xb1] {};
	\node[align=center, font=\footnotesize, rotate=-90, above right = 0.25cm and 0cm of rect] (b) {\textsf{divergence buffer}};
	
	%flush
	\coordinate [below = 0.2cm of x33] (fl1);
	\coordinate [below = 0.2cm of x34] (fl2);
	\coordinate [above = 0.38cm of rect] (fl3);
	
	\draw[->, thick] (x33) -- (fl1) -- (fl3) -- (rect);
	\draw[thick] (x34) -- (fl2);
	\node[align=center, font=\footnotesize, above left = 0cm of fl3] (b) {\textsf{flush}};
	
	%new elements
	\coordinate [above = 0.2cm of x41] (ne1);
	\coordinate [above = 0.2cm of x42] (ne2);
	\coordinate [above = 0.2cm of x43] (ne3);
	\coordinate [above = 0.2cm of x44] (ne4);
	\coordinate [left = 0.4cm of ne1] (ne5);
	
	
	\node (new) [above right = 0cm and -0.5cm of ne1] {\footnotesize \textsf{new elements}};
	\draw[->, thick] (ne1) -- (x41);
	\draw[->, thick] (ne2) -- (x42);
	\draw[->, thick] (ne3) -- (x43);
	\draw[->, thick] (ne5) -- (ne4) -- (x44);
	
	\node (x51) [densely dashed, draw,thick,minimum width=3,minimum height=3, below = 0.5cm of x41] {};
	\node (x52) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x51] {};
	\node (x53) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x52] {};
	\node (x54) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x53] {};
	
	\node (x61) [densely dashed, draw,thick,minimum width=3,minimum height=3, below = 0.5cm of x51] {};
	\node (x62) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x61] {};
	\node (x63) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x62] {};
	\node (x64) [densely dashed, draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x63] {};
	
	%refill 
	\coordinate [below = 0.2cm of x61] (rf1);
	\coordinate [below = 0.2cm of x64] (rf2);
	\coordinate [below = 0.23cm of rect] (rf3);
	\draw[->, thick] (rect) -- (rf3) -- (rf1) -- (x61);
	\draw[->, thick] (rf2) -- (x64);
	\node[align=center, font=\footnotesize, below left = 0cm of rf3] (b) {\textsf{refill}};
	
	\node (x71) [draw,thick,minimum width=3,minimum height=3, below = 0.5cm of x61] {};
	\node (x72) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x71] {};
	\node (x73) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x72] {};
	\node (x74) [draw,thick,minimum width=3,minimum height=3, right = 0.5cm of x73] {};
	
	\node[rotate=-90, below right = 0.2cm and 0.5cm of x72] (xend) {\LARGE $\cdots$};
	\node (ts) [left = 0.5cm of x11] {};
	\node (te) [left = 0.5cm of x71] {};
	\draw[->, thick] (ts) -- (te);
	\end{tikzpicture}
	\caption{Divergence Buffer}
\end{figure}

\section{Implementierung}
